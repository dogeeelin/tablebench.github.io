<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="description" content="TableBench: A Capability-Based Table Benchmark for Large Language Models">
  <meta name="keywords" content="tabular data, benchmark, capability">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TableBench: A Capability-Based Table Benchmark for Large Language Models</title>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0EXCB9YRX9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-0EXCB9YRX9');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">

  <link rel="stylesheet" href="./bower_components/bootstrap/dist/css/bootstrap.table.min.css">
  <!--  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">-->
  <link rel="stylesheet" href="./stylesheets/layout.css">
  <link rel="stylesheet" href="./stylesheets/index.css">

  <link rel="icon" href="./static/images/favicon.svg">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>

<body>

  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
    <div class="navbar-menu">
      <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
        <a class="navbar-item" href="https://www.xlang.ai/">
          <span class="icon">
            <i class="fas fa-home"></i>
          </span>
        </a>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            More Research
          </a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://yale-lily.github.io/spider">
              Spider
            </a>
            <a class="navbar-item" href="https://unifiedskg.com">
              UnifiedSKG
            </a>
            <a class="navbar-item" href="https://github.com/Yushi-Hu/IC-DST">
              IC-DST
            </a>
            <a class="navbar-item" href="https://github.com/xlang-ai/icl-selective-annotation">
              Selective Annotation
            </a>
            <a class="navbar-item" href="https://lm-code-binder.github.io/">
              Binder
            </a>
            <a class="navbar-item" href="https://instructor-embedding.github.io/">
              Instructor
            </a>
            <a class="navbar-item" href="https://text-to-reward.github.io/">
              Text2Reward
            </a>
            <a class="navbar-item" href="https://arks-codegen.github.io/">
              ARKS
            </a>
            <a class="navbar-item" href="https://os-world.github.io/">
              OSWorld
            </a>
          </div>
        </div>
      </div>

    </div>
  </nav>


  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">TableBench: A Capability-Based Table Benchmark for Large Language Models
            </h1>
            <div class="is-size-5 publication-authors">
              <span class="author-block">
                <a href="https://dogeeelin.github.io/">Yun Lin</a><sup>1</sup>,</span>
              <span class="author-block">
                Xinyi He</a><sup>2</sup>,</span>
              <span class="author-block">
                <a href="https://www.microsoft.com/en-us/research/people/mezho/">Mengyu Zhou</a><sup>3</sup>,
              </span>
              <span class="author-block">
                Yirui Luo</a><sup>4</sup>,
              </span>
              <span class="author-block">
                Junyu Xiong</a><sup>5</sup>,
              </span>
              <span class="author-block">
                <a href="https://www.microsoft.com/en-us/research/people/yeyehe/">Yeye He</a><sup>3</sup>,
              </span>
              <span class="author-block">
                <a href="https://www.microsoft.com/en-us/research/people/hadong/">Haoyu Dong</a><sup>3</sup>,
              </span>
              <span class="author-block">
        <br/>
                <a href="https://www.microsoft.com/en-us/research/people/shihan/">Shi Han</a><sup>3</sup>,
              </span>
              <span class="author-block">
                <a href="https://www.microsoft.com/en-us/research/people/dongmeiz/">Dongmei Zhang</a><sup>3</sup>,
              </span>
			  <br/>
            </div>

            <div class="is-size-5 publication-authors">
              <span class="author-block"><sup>1</sup>Peking University,</span>
              <span class="author-block"><sup>2</sup>Xi'an Jiaotong University,</span>
              <span class="author-block"><sup>3</sup>Microsoft,</span>
              <span class="author-block"><sup>4</sup>Tsinghua University,</span>
              <span class="author-block"><sup>5</sup>University of Science and Technology of China,</span>
            </div>

            <div class="column has-text-centered">
              <div class="publication-links">
                <!-- PDF Link. -->
                <span class="link-block">
                  <a href="https://arxiv.org/abs/2211.11501"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="ai ai-arxiv"></i>
                    </span>
                    <span>Paper</span>
                  </a>
                </span>
                <!-- Code Link. -->
                <span class="link-block">
                  <a href="https://github.com/xlang-ai/DS-1000"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code</span>
                  </a>
                </span>
                <!-- Dataset Link. -->
                <span class="link-block">
                  <a href="https://huggingface.co/datasets/xlangai/DS-1000"
                     class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="far fa-images"></i>
                    </span>
                    <span>Data</span>
                  </a>
                </span>
                <!-- Twitter Link. -->
                <!-- <span class="link-block">
                  <a href="https://twitter.com/taoyds/status/1595086401309388801"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-twitter"></i>
                    </span>
                    <span>Twitter</span>
                  </a>
                </span> -->
                <!-- Leaderboard Link. -->
                <span class="link-block">
                  <a href="https://crux-eval.github.io/eval-arena/model_DS1000.html"
                  class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fa fa-trophy"></i>
                  </span>
                  <span>Opencompass Leaderboard</span>
                </a>
                </span>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <section class="hero teaser">
    <div class="container is-max-desktop">
      <div class="hero-body">
        <h2 class="subtitle has-text-justified">
          TableBench is a benchmark to evaluate LLMs' performance in understanding and processing tabular data. It consists of 10 table-related capabilities testing across 6 widely used table formats. We evaluate ~20 models on TableBench and present a series of valuable insights.
        </h2>
        <img src="static/images/fig1-example.jpg">
      </div>
    </div>
  </section>


  <section class="section">
    <div class="container is-max-desktop">
      <!-- Abstract. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Abstract</h2>
          <div class="content has-text-justified">
            <p>
              The rapid advancement of techniques in large language models (LLMs) for processing tabular data necessitates improvements in evaluation benchmarks. However, most of existing table benchmarks offer evaluation from a singular task-based perspective, failing to provide a comprehensive and meticulous assessment of the LLMs' table-related capabilities. To address this gap, we introduce TableBench, a capability-based benchmark tailored to evaluate the performance of LLMs on tabular data. Our framework intricately outlines 10 essential capabilities required from the point a model receives a table-related input to the generation of an output, with each capability tested across 6 table formats. We evaluate 20 models using TableBench and observe that GPT-4 and GPT-4o achieve the highest scores, while phi3-small outperform other open-source models of similar scale. Drawing from our evaluation, we present a series of valuable insights, which can serve as a pivotal reference for future table-related LLM research.
            </p>
          </div>
        </div>
      </div>
      <!--/ Abstract. -->
    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">
      <!-- Perturbation and Prompt. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Definitions of Different Capabilities</h2>
          <div class="content has-text-justified">
            <p>
              For questions from StackOverflow, we equipped them with prompts, test cases, and evaluation functions and
              called them Origin.
              To prevent models simply recalling the solutions seen during pre-training, we have perturbed the questions
              in two ways:
              surface perturbations and semantic perturbations.
              To make DS-1000 more challenging, we additionally introduced Difficult Rewrite.
            </p>

            <ul>
              <li><strong>Structure Understanding:</strong> The capability of an LLM on identifying the organizational layout of tables. It
                aims to test whether an LLM can accurately interpret the foundational layout of a table.
              </li>
              <li><strong>Format Understanding:</strong> The capability of an LLM to recognize and digest various table representations. </li>
              <li><strong>Knowledge Understanding:</strong> The capability of an LLM to understand the semantic structure and meaning of table
                contents. It requires a model to link the elements of
                the table to semantic tags from Knowledge Graph
                (KG).</li>
              <li><strong>Largetable Understanding:</strong> The capability of an LLM to manage large tables that may contain vast amounts
                of cells. It is design to evaluate whether a model can handle scalability issues and whether the performance remains robust with large tables.</li>
              <li><strong>Commanding:</strong> The
                capability of an LLM to manipulate table(s) following various user commands. We aim to explore the
                model’s intrinsic commanding capabilities, thus requiring the model to directly return the edited result
                without relying on external tools or code.</li>
              <li><strong>Coding:</strong> The capability of an LLM to proficiently use code to handle and process tabular data. It requires developing code
                to manipulate and process table data effectively.</li>
              <li><strong>Grounding:</strong> The capability of an LLM in locating and extracting the specific information given a user question. It requires the model to index, search, locate and return
                the exact match answer of the question from the
                table.</li>
              <li><strong>Aggregation:</strong> The
                capability of an LLM to perform numerical reasoning. It requires the model to synthesize information
                across multiple cells or rows/columns to conduct
                numerical calculation and inference.</li>
              <li><strong>Summarization:</strong> The capability of an LLM on distilling highlevel summaries from structured data. It requires the model to provide a one-sentence description given a question or determine whether a summary can be derived from the table.</li>
              <li><strong>Exploration:</strong> The
                capability of an LLM to navigate through and draw
                valuable insights from tabular data. It requires
                the model to uncover patterns, trends, and insights
                from organized table data.</li>
            </ul>


            <p>
              Here is the performance of Codex-davinci-002 on DS-1000.
            </p>

            <img src="static/images/codex002_result.png">

            <p>
              Here are more prompts, you can copy them and run the models on the
              playground of <a class="link" href="https://openai.com/api/">OpenAI</a>.
            </p>
            
            <div class="tabs is-centered code_expl_lst">
              <ul>
                <li title="Structure" class="is-active"><a>Structure</a></li>
                <li title="Largetable"><a>Largetable</a></li>
                <li title="Knowledge"><a>Knowledge</a></li>
                <li title="Commanding"><a>Commanding</a></li>
                <li title="Coding"><a>Coding</a></li>
                <li title="Grounding"><a>Grounding</a></li>
                <li title="Aggregation"><a>Aggregation</a></li>
                <li title="Summarization"><a>Summarization</a></li>
                <li title="Exploration"><a>Exploration</a></li>
              </ul>
            </div>

            <script type="text/javascript">
              document.querySelectorAll(".code_expl_lst li").forEach(e => {
                e.addEventListener("click", Click)
              })

              function Click(eve)
              {
                const iTxt = eve.srcElement.parentElement.title
                for(let v of document.querySelectorAll(".code_expl_lst li"))
                {
                  if(iTxt === v.title)
                  {
                    v.className = "is-active";
                  } else {
                    v.className = "";
                  }
                }
                for(let block of document.getElementsByClassName('examples'))
                {
                  block.style.display = (block.title === iTxt) ? 'block' : 'none';
                }
              }

            </script>

            <div title="Structure" class="examples" style="display: block;">
              <div class="highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight"><code>Instruction: Given a table, please answer the question based on the table. 
Do NOT add any explanations. Return the final result as the JSON format:
{'prediction': '&lt;answer&gt;'}, such as {'prediction': 'China'}.

{Example}

Table:
| A1,Book Administrator Listing   | B1,        | C1,                  | D1,        | E1,                 | F1,       |
|:--------------------------------|:-----------|:---------------------|:-----------|:--------------------|:----------|
| A2,                             | B2,        | C2,                  | D2,        | E2,                 | F2,       |
| A3,Company                      | B3,Group   | C3,Report To         | D3,        | E3,                 | F3,       |
| A4,ENA                          | B4,Gas     | C4,Jeff Gossett      | D4,        | E4,                 | F4,       |
| A5,                             | B5,        | C5,                  | D5,        | E5,                 | F5,       |
| A6,Name                         | B6,Book ID | C6,Primary / Back-up | D6,Phone   | E6,Manual or System | F6,System |
| A7,Connie Sutton                | B7,ABC     | C7,Primary           | D7,x3-5686 | E7,System           | F7,ERMS   |
| A8,Connie Sutton                | B8,XYZ     | C8,Back-up           | D8,x3-5686 | E8,Manual           | F8,       |

Question: Does this table have a header? 

Return the final result as the JSON format: {'prediction': '&lt;answer&gt;'}

Answer:
</code></pre>
                </div>
              </div>
            </div>

            <div title="Largetable" class="examples" style="display: none;">
              <div class="highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight"><code>Instruction: Given a table, please answer the question based on the table. 
Do NOT add any explanations. Return the final result as the JSON format:
{'prediction': '&lt;answer&gt;'}, such as {'prediction': 'China'}.

{Example}

Table:
|   Rank |   Lane | Name                        | Nationality    | Time    | Notes   |
|-------:|-------:|:----------------------------|:---------------|:--------|:--------|
|      1 |      5 | Eskender Mustafaiev         | Ukraine        | 38.77   | Q       |
|      2 |      4 | David Smetanine             | France         | 38.97   | Q       |
|      3 |      3 | Kyunghyun Kim               | South Korea    | 40.37   | Q       |
|      4 |      6 | Christoffer Lindhe          | Sweden         | 41.52   | Q       |
......
|      5 |      7 | Arnost Petracek             | Czech Republic | 43.12   |         |
|      6 |      2 | Ronystony Cordeiro da Silva | Brazil         | 44.22   |         |
|      7 |      8 | Grant Patterson             | Australia      | 55.49   |         |
|      8 |      1 | Arnulfo Castorena           | Mexico         | 1:03.49 |         |

Question: How many columns are there in the table?

Return the final result as the JSON format: {'prediction': '&lt;answer&gt;'}

Answer:
</code></pre>
                </div>
              </div>
            </div>

            <div title="Knowledge" class="examples" style="display: none;">
              <p>
                Surface Perturbation:
              </p>

              <div class="highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight"><code>Given a table and a target cell, please annotate target cell with an entity of Wikidata. 
One cell can be annotated by one entity. Return the entity label name.
Do !!!not!!! return the entity id. Do NOT add any explanations. 
Return the final result as the JSON format:
{'prediction': '&lt;answer&gt;'}, such as {'prediction': 'China'}.

{Example}

Table: 
| col0                     | col1                  |
|:-------------------------|:----------------------|
| Kletting Peak            | Richard K.A. Kletting |
| Mount Balch              | Edwin Swift Balch     |
| Mount Barre              | Michel Barré          |
| Mount Sir James MacBrien | James Howden MacBrien |

Target row id: 3
Target column id: 1
Target cell value: James Howden MacBrien
Return the final result as the JSON format: {'prediction': '&lt;answer&gt;'}

Answer:</code></pre>
                </div>
              </div>
            </div>
            
            
            <div title="Commanding" class="examples" style="display: none;">
              <p>
                Surface Perturbation:
              </p>

              <div class="highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight"><code>Instruction: Given a table and an instruction, please output the modified table. 
You should keep your output in the same format as the input table. 
Only output the modified table, do NOT output any explanations.

{Example}

Table: 
|   Round | Pick         | Player             | Position      | School      |
|--------:|:-------------|:-------------------|:--------------|:------------|
|       2 | 55           | Quinton Caver      | Linebacker    | Arkansas    |
|       3 | 63           | Derrick Burgess    | Defensive end | Mississippi |
|       4 | 121          | Correll Buckhalter | Running back  | Nebraska    |
|       5 | 147          | Tony Stewart       | Tight end     | Penn State  |
|     155 | A. J. Feeley | Quarterback        | Oregon        |             |

Question: This is a table. Please add "['1', '25', 'Freddie Mitchell', 'Wide receiver', 
'UCLA']" as the 1st row of the table and provide the result after addition.

Answer:
</code></pre>
                </div>
              </div>
            </div>


            <div title="Coding" class="examples" style="display: none;">
              <p>
                Surface Perturbation:
              </p>

              <div class="highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight"><code>Instruction: I want you to act as a data analytics scientist. I will give you a table, 
an user query, and you need to generate Python code to answer the user query. You should
follow the rules:

    1. Return the Python code, and wrap the code in ```python ... ``` to make it a code block.
    2. There is already a DataFrame variable for `table` in the environment, so you should not reassign `table=pd.read_html(...)` in the code.
    3. Stores the final result in the variable `result`. I will directly utilize the 'result' variable for assessing the subsequent code outcomes.
    4. The result must be one variable being one of pd.DataFrame, List[int], List[float], List[str], int, float, str, dict.
    5. For Pivot/groupby, Aggregation, Filter, Sort, Add virtual field, Calculation operations, you should use pandas library.
    6. For forecasting, you should use greykite or prophet library.
    7. For chart generation:  
       7.1 You should use matplotlib library.
       7.2 You should assign a !!!result!!! dictionary: {"x_fields": field_name, "y_fields": [field_name1, field_name2], "chart_type": chart_type}. chart_type choose from lineChart, barChart, scatterChart, pieChart.   
       7.3 You should print the result at the end.  
    8. For basic insight, there are 7 types: Rank, RankLast, Attribution, Trend, Monotonicity, Outlier, Unimodality. 
       8.1 There are two descriptions of insight, and you can choose one of them or their values to answer the query:
           + is_insight: bool, whether the insight is true
           + property: dict, the property of the insight. For "Rank", key is "First" and value is str; for "RankLast", key is "Last" and value is str; for "Attribution", key is "Dominator" and value is str; for "Trend", key is "IsIncreasing" and valus is bool; for "Monotonicity", key is "Trend" and value is "Increasing" or "Decreasing"; for "Outlier", key is "TemporalOutlierLocation" and value is List[str]; for "Unimodality", key is "Location" and value is List[str].
       8.2 The result of your answer to the query needs to refer the description. The result must be a direct answer to the query, not a direct dict of the above descriptions. The result can be True, "Increasing", "Decreasing" and so on.

{Example}

Table:
|   sid | sname               | sex   |   age |   year |   gpa |
|------:|:--------------------|:------|------:|-------:|------:|
|     1 | Jacobs, T.          | m     |    29 |      5 |   3.6 |
|     2 | Pierson, E.         | m     |    32 |      5 |   3.5 |
|     3 | Zeene, Ben N.       | m     |    21 |      5 |   3.9 |
|     4 | Sulfate, Barry M.   | m     |    19 |      2 |   2.8 |
|     5 | Form, Clara O.      | f     |    18 |      1 |   3.3 |
|     6 | Scott, Kim J.       | m     |    20 |      1 |   3.8 |
|     7 | Sather, Roberto B.  | m     |    22 |      4 |   2.2 |
|     8 | Stanley, Leotha T.  | m     |    21 |      3 |   3.6 |
|     9 | Smith, Joyce A.     | f     |    21 |      4 |   2   |
|    10 | Jones, David S.     | m     |    19 |      2 |   3.5 |
|    11 | Paul, Mary W.       | f     |    23 |      5 |   3.6 |
|    12 | Soong, V.           | f     |    24 |      5 |   3.5 |
|    13 | Kellerman, S.       | f     |    21 |      3 |   2.9 |
|    14 | Cheong, R.          | m     |    25 |      4 |   3   |
|    15 | Borchart, Sandra L. | f     |    26 |      5 |   3.9 |
|    16 | Alsberg, David J.   | m     |    25 |      5 |   3.5 |
|    17 | Thorton, James Q.   | m     |    28 |      4 |   2.7 |
|    18 | Gooch               | m     |    26 |      1 |   1.4 |
|    19 | Smith, L.           | m     |    43 |      4 |   0.7 |
|    20 | Korpel, E.          | f     |    19 |      3 |   3.5 |

User query: Who is the top student with a GPA below 3.2?

Answer: 
</code></pre>
                </div>
              </div>
            </div>


            <div title="Grounding" class="examples" style="display: none;">
              <p>
                Surface Perturbation:
              </p>

              <div class="highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight"><code>Instruction: Given a table, please answer the question based on the table. 
Do NOT add any explanations. If there is more than one answer, separate them with 
commas(,). Return the final result as the JSON format: {'prediction': '&lt;answer&gt;'}, 
such as {'prediction': 'China'}.

{Example}

Table: 
|   Rank |   Lane | Name                        | Nationality    | Time    | Notes   |
|-------:|-------:|:----------------------------|:---------------|:--------|:--------|
|      1 |      5 | Eskender Mustafaiev         | Ukraine        | 38.77   | Q       |
|      2 |      4 | David Smetanine             | France         | 38.97   | Q       |
|      3 |      3 | Kyunghyun Kim               | South Korea    | 40.37   | Q       |
|      4 |      6 | Christoffer Lindhe          | Sweden         | 41.52   | Q       |
|      5 |      7 | Arnost Petracek             | Czech Republic | 43.12   |         |
|      6 |      2 | Ronystony Cordeiro da Silva | Brazil         | 44.22   |         |
|      7 |      8 | Grant Patterson             | Australia      | 55.49   |         |
|      8 |      1 | Arnulfo Castorena           | Mexico         | 1:03.49 |         |

Question: how long did it take the 5th place swimmer to finish?

Return the final result as the JSON format: {'prediction': '&lt;answer&gt;'}.

Answer:
</code></pre>
                </div>
              </div>
            </div>


            <div title="Aggregation" class="examples" style="display: none;">
              <p>
                Surface Perturbation:
              </p>

              <div class="highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight"><code>Instruction: Given a table, please answer the question based on the table. 
Do NOT add any explanations. If there is more than one answer, separate them with 
commas(,). Return the final result as the JSON format: {'prediction': '&lt;answer&gt;'}, 
such as {'prediction': 'China'}.

{Example}

Table: 
|   Year | Network   | Race caller    | Color commentator               | Reporters        | Trophy Presentation   |
|-------:|:----------|:---------------|:--------------------------------|:-----------------|:----------------------|
|   1959 | CBS       | Fred Capossela | Bryan Field and Chris Schenkel  |                  | Chris Schenkel        |
|   1958 | CBS       | Fred Capossela | Bryan Field                     |                  |                       |
|   1957 | CBS       | Fred Capossela | Bryan Field                     |                  |                       |
|   1956 | CBS       | Fred Capossela | Bryan Field                     |                  |                       |
|   1955 | CBS       | Fred Capossela | Phil Sutterfield and Win Elliot |                  |                       |
|   1954 | CBS       | Bryan Field    | Mel Allen                       |                  | Bill Corum            |
|   1953 | CBS       | Bryan Field    | Mel Allen                       | Phil Sutterfield | Phil Sutterfield      |
|   1952 | CBS       | Bryan Field    | Sam Renick                      |                  |                       |


Question: how many races in the 1950s were not called by bryan field?

Return the final result as the JSON format: {'prediction': '&lt;answer&gt;'}.

Answer:
</code></pre>
                </div>
              </div>
            </div>


            <div title="Summarization" class="examples" style="display: none;">
              <p>
                Surface Perturbation:
              </p>

              <div class="highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight"><code>Instruction: Given a table, its page title and section title, please answer the question 
with a one-sentence description based on the input. Do NOT add any explanations. 
Return the final result as the JSON format: {'prediction': '&lt;answer&gt;'}, such as 
{'prediction': 'China'}.

{Example}

Table: 
| Year    | Title                            | Role                     | Channel   |
|:--------|:---------------------------------|:-------------------------|:----------|
| 2015    | Kuch Toh Hai Tere Mere Darmiyaan | Sanjana Kapoor           | Star Plus |
| 2016    | Kuch Rang Pyar Ke Aise Bhi       | Khushi                   | Sony TV   |
| 2016    | Gangaa                           | Aashi Jhaa               | &TV       |
| 2017    | Iss Pyaar Ko Kya Naam Doon 3     | Meghna Narayan Vashishth | Star Plus |
| 2017–18 | Tu Aashiqui                      | Richa Dhanrajgir         | Colors TV |
| 2019    | Laal Ishq                        | Pernia                   | &TV       |
| 2019    | Vikram Betaal Ki Rahasya Gatha   | Rukmani/Kashi            | &TV       |
| 2019    | Shaadi Ke Siyape                 | Dua                      | &TV       |

Table page title: Shagun Sharma
Table section title: Television

Question: What TV shows was Shagun Sharma seen in 2019?

Return the final result as the JSON format: {'prediction': '&lt;answer&gt;'}.

Answer:
</code></pre>
                </div>
              </div>
            </div>


            <div title="Exploration" class="examples" style="display: none;">
              <p>
                Surface Perturbation:
              </p>

              <div class="highlighter-rouge">
                <div class="highlight">
                  <pre class="highlight"><code>Instruction: I want you to act as a data analytics scientist. I will give you a table, an user query, and you need to answer the user query. You should follow the rules:

    1. Return the final result as the JSON format: 
    {'prediction': '&lt;answer&gt;'}, such as {'prediction': 'China'}.
    2. For basic insight, there are 7 types: Rank, RankLast, Attribution, Trend, Monotonicity, Outlier, Unimodality. 
       2.1 There are two descriptions of insight, and you can choose one of them or their values to answer the query:
           + is_insight: bool, whether the insight is true
           + property: dict, the property of the insight. For "Rank", key is "First" and value is str; for "RankLast", key is "Last" and value is str; for "Attribution", key is "Dominator" and value is str; for "Trend", key is "IsIncreasing" and valus is bool; for "Monotonicity", key is "Trend" and value is "Increasing" or "Decreasing"; for "Outlier", key is "TemporalOutlierLocation" and value is List[str]; for "Unimodality", key is "Location" and value is List[str].
    2.2 The result of your answer to the query needs to refer the description. The result must be a direct answer to the query, not a direct dict of the above descriptions. The result can be True, "Increasing", "Decreasing" and so on.

{Example}

Given the table:
| Time   |   Score |
|:-------|--------:|
| 12:23  |       4 |
| 13:23  |       3 |
| 14:23  |       5 |
| 15:23  |       6 |
| 16:23  |       7 |
| 17:23  |       4 |
| 18:23  |       5 |
| 19:23  |       6 |
| 20:23  |       9 |

User query: Is there an increase over time?

Answer:
</code></pre>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
      <!--/ Perturbation and Prompt. -->
    </div>
  </section>





  <section class="section">
    <div class="container is-max-desktop">
      <!-- Example. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Data Statistics and Examples</h2>
          <div class="content has-text-justified">
            <p>
              DS-1000 contains 1000 problems originating from 451 unique StackOverflow problems.
              To defend against potential memoriza- tion, more than half of the DS-1000 problems
              are modified from the original StackOverflow problems; they include 152 surface
              perturbations, 235 semantic perturbations, and 162 difficult rewrites.
            </p>

            <div style="text-align: center;">
              <img src="static/images/tablebench-framework.jpg" width="500" height="500">
            </div>

            <p>
              Below are the examples of TableBench in 6 different formats. The initial table representation is a 2d-list, which we convert to other formats. 
            </p>

            <div class="tabs is-centered example_lst">
              <ul>
                <li class="is-active"><a title="2d-list">2D-List</a></li>
                <li><a title="JSON">JSON</a></li>
                <li><a title="Markdown">Markdown</a></li>
                <li><a title="XML">XML</a></li>
                <li><a title="HTML">HTML</a></li>
                <li><a title="LaTeX">LaTeX</a></li>
                <li><a title="Grid">Grid</a></li>
              </ul>
            </div>

            <!-- <form>
              <input type="radio" name="library" checked onclick=Click_2() title="NumPy">NumPy
              <input type="radio" name="library" onclick=Click_2() title="SciPy">SciPy
              <input type="radio" name="library" onclick=Click_2() title="Pandas">Pandas
              <input type="radio" name="library" onclick=Click_2() title="TensorFlow">TensorFlow
              <input type="radio" name="library" onclick=Click_2() title="PyTorch">PyTorch
              <input type="radio" name="library" onclick=Click_2() title="Scikit-learn">Scikit-learn
              <input type="radio" name="library" onclick=Click_2() title="Matplotlib">Matplotlib
            </form> -->

            <script type="text/javascript">
              document.querySelectorAll(".example_lst li").forEach(e => {
                e.addEventListener("click", Click_2)
              })

              function Click_2(eve)
              {
                const iTxt = eve.srcElement.innerText
                for(let v of document.querySelectorAll(".example_lst a"))
                {
                  if(iTxt === v.innerText)
                  {
                    v.parentElement.className = "is-active";
                  } else {
                    v.parentElement.className = "";
                  }
                }
                for(let block of document.getElementsByClassName('lib_examples'))
                {
                  block.style.display = (block.title === iTxt) ? 'block' : 'none';
                }
              }

            </script>


            <div title="2D-List" class="lib_examples" style="display: block;">
              <pre class="highlight"><code>
[
['Rank', 'Lane', 'Name', 'Nationality', 'Time', 'Notes'],  
[1, 5, 'Eskender Mustafaiev', 'Ukraine', '38.77', 'Q'], 
[2, 4, 'David Smetanine', 'France', '38.97', 'Q'], 
[3, 3, 'Kyunghyun Kim', 'South Korea', '40.37', 'Q'], 
[4, 6, 'Christoffer Lindhe', 'Sweden', '41.52', 'Q'], 
[5, 7, 'Arnost Petracek', 'Czech Republic', '43.12', ''], 
[6, 2, 'Ronystony Cordeiro da Silva', 'Brazil', '44.22', ''], 
[7, 8, 'Grant Patterson', 'Australia', '55.49', ''], 
[8, 1, 'Arnulfo Castorena', 'Mexico', '1:03.49', '']
]</code></pre>
            </div>



            <div title="JSON" class="lib_examples" style="display: none;">
              <pre class="highlight"><code>{'header': 
          ['Rank', 'Lane', 'Name', 'Nationality', 'Time', 'Notes'], 
 'rows':[ 
          [1, 5, 'Eskender Mustafaiev', 'Ukraine', '38.77', 'Q'], 
          [2, 4, 'David Smetanine', 'France', '38.97', 'Q'], 
          [3, 3, 'Kyunghyun Kim', 'South Korea', '40.37', 'Q'], 
          [4, 6, 'Christoffer Lindhe', 'Sweden', '41.52', 'Q'], 
          [5, 7, 'Arnost Petracek', 'Czech Republic', '43.12', ''], 
          [6, 2, 'Ronystony Cordeiro da Silva', 'Brazil', '44.22', ''], 
          [7, 8, 'Grant Patterson', 'Australia', '55.49', ''], 
          [8, 1, 'Arnulfo Castorena', 'Mexico', '1:03.49', '']
        ]}</code></pre>
            </div>


            <div title="Markdown" class="lib_examples" style="display: none;">
              <pre class="highlight"><code> 
|   Rank |   Lane | Name                  | Nationality    | Time    | Notes   |
|-------:|-------:|:----------------------|:---------------|:--------|:--------|
|      1 |      5 | Eskender Mustafaiev   | Ukraine        | 38.77   | Q       |
|      2 |      4 | David Smetanine       | France         | 38.97   | Q       |
|      3 |      3 | Kyunghyun Kim         | South Korea    | 40.37   | Q       |
|      4 |      6 | Christoffer Lindhe    | Sweden         | 41.52   | Q       |
|      5 |      7 | Arnost Petracek       | Czech Republic | 43.12   |         |
|      6 |      2 | Ronystony Cordeiro    | Brazil         | 44.22   |         |
|      7 |      8 | Grant Patterson       | Australia      | 55.49   |         |
|      8 |      1 | Arnulfo Castorena     | Mexico         | 1:03.49 |         |</code></pre>
            </div>
            


            <div title="XML" class="lib_examples" style="display: none;">
              <pre class="highlight"><code> 
&lt;Table&gt;
  &lt;Header&gt;
    &lt;Column&gt;Rank&lt;/Column&gt;
    &lt;Column&gt;Lane&lt;/Column&gt;
    &lt;Column&gt;Name&lt;/Column&gt;
    &lt;Column&gt;Nationality&lt;/Column&gt;
    &lt;Column&gt;Time&lt;/Column&gt;
    &lt;Column&gt;Notes&lt;/Column&gt;
  &lt;/Header&gt;
  &lt;Row&gt;
    &lt;Cell&gt;1&lt;/Cell&gt;
    &lt;Cell&gt;5&lt;/Cell&gt;
    &lt;Cell&gt;Eskender Mustafaiev&lt;/Cell&gt;
    &lt;Cell&gt;Ukraine&lt;/Cell&gt;
    &lt;Cell&gt;38.77&lt;/Cell&gt;
    &lt;Cell&gt;Q&lt;/Cell&gt;
  &lt;/Row&gt;
  &lt;Row&gt;
    &lt;Cell&gt;2&lt;/Cell&gt;
    &lt;Cell&gt;4&lt;/Cell&gt;
    &lt;Cell&gt;David Smetanine&lt;/Cell&gt;
    &lt;Cell&gt;France&lt;/Cell&gt;
    &lt;Cell&gt;38.97&lt;/Cell&gt;
    &lt;Cell&gt;Q&lt;/Cell&gt;
  &lt;/Row&gt;
  &lt;Row&gt;
    &lt;Cell&gt;3&lt;/Cell&gt;
    &lt;Cell&gt;3&lt;/Cell&gt;
    &lt;Cell&gt;Kyunghyun Kim&lt;/Cell&gt;
    &lt;Cell&gt;South Korea&lt;/Cell&gt;
    &lt;Cell&gt;40.37&lt;/Cell&gt;
    &lt;Cell&gt;Q&lt;/Cell&gt;
  &lt;/Row&gt;
  &lt;Row&gt;
    &lt;Cell&gt;4&lt;/Cell&gt;
    &lt;Cell&gt;6&lt;/Cell&gt;
    &lt;Cell&gt;Christoffer Lindhe&lt;/Cell&gt;
    &lt;Cell&gt;Sweden&lt;/Cell&gt;
    &lt;Cell&gt;41.52&lt;/Cell&gt;
    &lt;Cell&gt;Q&lt;/Cell&gt;
  &lt;/Row&gt;
  &lt;Row&gt;
    &lt;Cell&gt;5&lt;/Cell&gt;
    &lt;Cell&gt;7&lt;/Cell&gt;
    &lt;Cell&gt;Arnost Petracek&lt;/Cell&gt;
    &lt;Cell&gt;Czech Republic&lt;/Cell&gt;
    &lt;Cell&gt;43.12&lt;/Cell&gt;
    &lt;Cell /&gt;
  &lt;/Row&gt;
  &lt;Row&gt;
    &lt;Cell&gt;6&lt;/Cell&gt;
    &lt;Cell&gt;2&lt;/Cell&gt;
    &lt;Cell&gt;Ronystony Cordeiro da Silva&lt;/Cell&gt;
    &lt;Cell&gt;Brazil&lt;/Cell&gt;
    &lt;Cell&gt;44.22&lt;/Cell&gt;
    &lt;Cell /&gt;
  &lt;/Row&gt;
  &lt;Row&gt;
    &lt;Cell&gt;7&lt;/Cell&gt;
    &lt;Cell&gt;8&lt;/Cell&gt;
    &lt;Cell&gt;Grant Patterson&lt;/Cell&gt;
    &lt;Cell&gt;Australia&lt;/Cell&gt;
    &lt;Cell&gt;55.49&lt;/Cell&gt;
    &lt;Cell /&gt;
  &lt;/Row&gt;
  &lt;Row&gt;
    &lt;Cell&gt;8&lt;/Cell&gt;
    &lt;Cell&gt;1&lt;/Cell&gt;
    &lt;Cell&gt;Arnulfo Castorena&lt;/Cell&gt;
    &lt;Cell&gt;Mexico&lt;/Cell&gt;
    &lt;Cell&gt;1:03.49&lt;/Cell&gt;
    &lt;Cell /&gt;
  &lt;/Row&gt;
&lt;/Table&gt;</code></pre>
            </div>



            <div title="HTML" class="lib_examples" style="display: none;">
              <!-- <img src="static/images/tensorflow_example.jpg"> -->
              <pre class="highlight"><code> 
  &lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;Rank&lt;/th&gt;
      &lt;th&gt;Lane&lt;/th&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Nationality&lt;/th&gt;
      &lt;th&gt;Time&lt;/th&gt;
      &lt;th&gt;Notes&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;Eskender Mustafaiev&lt;/td&gt;
      &lt;td&gt;Ukraine&lt;/td&gt;
      &lt;td&gt;38.77&lt;/td&gt;
      &lt;td&gt;Q&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;David Smetanine&lt;/td&gt;
      &lt;td&gt;France&lt;/td&gt;
      &lt;td&gt;38.97&lt;/td&gt;
      &lt;td&gt;Q&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;Kyunghyun Kim&lt;/td&gt;
      &lt;td&gt;South Korea&lt;/td&gt;
      &lt;td&gt;40.37&lt;/td&gt;
      &lt;td&gt;Q&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;Christoffer Lindhe&lt;/td&gt;
      &lt;td&gt;Sweden&lt;/td&gt;
      &lt;td&gt;41.52&lt;/td&gt;
      &lt;td&gt;Q&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;7&lt;/td&gt;
      &lt;td&gt;Arnost Petracek&lt;/td&gt;
      &lt;td&gt;Czech Republic&lt;/td&gt;
      &lt;td&gt;43.12&lt;/td&gt;
      &lt;td&gt;A&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;Ronystony Cordeiro da Silva&lt;/td&gt;
      &lt;td&gt;Brazil&lt;/td&gt;
      &lt;td&gt;44.22&lt;/td&gt;
      &lt;td&gt;A&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;7&lt;/td&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;Grant Patterson&lt;/td&gt;
      &lt;td&gt;Australia&lt;/td&gt;
      &lt;td&gt;55.49&lt;/td&gt;
      &lt;td&gt;A&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;Arnulfo Castorena&lt;/td&gt;
      &lt;td&gt;Mexico&lt;/td&gt;
      &lt;td&gt;1:03.49&lt;/td&gt;
      &lt;td&gt;A&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</code></pre>
            </div>

            <div title="LaTeX" class="lib_examples" style="display: none;">
              <pre class="highlight"><code>
\begin{tabular}{rrllll}
\toprule
Rank & Lane & Name                         & Nationality    & Time    & Notes \\
\midrule
1    & 5    & Eskender Mustafaiev          & Ukraine        & 38.77   & Q     \\
2    & 4    & David Smetanine              & France         & 38.97   & Q     \\
3    & 3    & Kyunghyun Kim                & South Korea    & 40.37   & Q     \\
4    & 6    & Christoffer Lindhe           & Sweden         & 41.52   & Q     \\
5    & 7    & Arnost Petracek              & Czech Republic & 43.12   &       \\
6    & 2    & Ronystony Cordeiro da Silva  & Brazil         & 44.22   &       \\
7    & 8    & Grant Patterson              & Australia      & 55.49   &       \\
8    & 1    & Arnulfo Castorena            & Mexico         & 1:03.49 &       \\
\bottomrule
\end{tabular} </code></pre>
            </div>

            <div title="Grid" class="lib_examples" style="display: none;">
              <pre class="highlight"><code>
+--------+--------+-----------------------------+----------------+---------+---------+
|   Rank |   Lane | Name                        | Nationality    | Time    | Notes   |
+========+========+=============================+================+=========+=========+
|      1 |      5 | Eskender Mustafaiev         | Ukraine        | 38.77   | Q       |
+--------+--------+-----------------------------+----------------+---------+---------+
|      2 |      4 | David Smetanine             | France         | 38.97   | Q       |
+--------+--------+-----------------------------+----------------+---------+---------+
|      3 |      3 | Kyunghyun Kim               | South Korea    | 40.37   | Q       |
+--------+--------+-----------------------------+----------------+---------+---------+
|      4 |      6 | Christoffer Lindhe          | Sweden         | 41.52   | Q       |
+--------+--------+-----------------------------+----------------+---------+---------+
|      5 |      7 | Arnost Petracek             | Czech Republic | 43.12   |         |
+--------+--------+-----------------------------+----------------+---------+---------+
|      6 |      2 | Ronystony Cordeiro da Silva | Brazil         | 44.22   |         |
+--------+--------+-----------------------------+----------------+---------+---------+
|      7 |      8 | Grant Patterson             | Australia      | 55.49   |         |
+--------+--------+-----------------------------+----------------+---------+---------+
|      8 |      1 | Arnulfo Castorena           | Mexico         | 1:03.49 |         |
+--------+--------+-----------------------------+----------------+---------+---------+
              </code></pre>
            </div>

            <!-- <div title="Matplotlib" class="lib_examples" style="display: none;">
              <img src="static/images/matplotlib_example.jpg">
              <p>
                An example problem of Matplotlib. Matplotlib original questions often contain example figures which cannot be
                processed by current code models. We rewrite original questions into standalone questions in the form of comments.
              </p>
            </div> -->

          </div>
        </div>
      </div>
      <!--/ Example. -->
    </div>
  </section>



  <section class="section">
    <div class="container is-max-desktop">
      <!-- Comparison. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Comparison</h2>
          <div class="content has-text-justified">
            <p>
              Table 4 compares DS-1000 to other datasets. Notably, the average of problem words in DS-1000
              is much larger compared to other data science related datasets (e.g., DSP and CoNaLa).
            </p>
            <p>
              More importantly, the problems in DS-1000 represent more diverse and
              naturalistic intent and context formats that cannot be seen in any other datasets.
            </p>
            <p>
              Unlike generic Python code generation benchmarks (MBPP and HumanEval),
              we note that data science code generation benchmarks have fewer test cases since the annotators need
              to define program inputs with complex objects such as square matrices, classifiers, or dataframes than
              simple primitives, such as floats or lists.
            </p>
            <p>
              Nevertheless, even a few test cases suffice for DS-1000 – only 1.8% of
              the Codex-002-predicted solutions accepted by our evaluation are incorrect.
            </p>
            <img src="static/images/comparison.png">
          </div>
        </div>
      </div>
      <!--/ Comparison. -->
    </div>
  </section>



  <section class="section" id="Acknowledgement">
    <div class="container is-max-desktop content">
      <div class="bibtex-body">
        <h2 class="title">Acknowledgement</h2>
        <p>We thank <a href="http://nasmith.github.io/">Noah A. Smith</a>, <a href="http://tianbaoxie.com/">Tianbao Xie</a>, <a href="http://scholar.google.com/citations?user=slwTiOUAAAAJ&hl=zh-CN&oi=ao">Shuyang Jiang</a> for their helpful feedback on this work.</p>
      </div>
    </div>
  </section>

  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <div class="bibtex-body">
        <h2 class="title">BibTeX</h2>
        <pre><code>@article{Lin2024tablebench,
  title={TableBench: A Capability-Based Table Benchmark for Large Language Models},
  author={Lin, Yun and He, Xinyi and Zhou, Mengyu and Luo, Yirui and Zhong, Ruiqi and Zettlemoyer, Luke and Yih, Wen-Tau and Fried, Daniel and Wang, Sida and Yu, Tao},
  journal={ArXiv},
  year={2022},
  volume={abs/2211.11501}
}</code></pre>
      </div>
    </div>
  </section>


  <footer class="footer">
    <div class="container">
      <div class="content has-text-centered">
        <a class="icon-link" href="https://arxiv.org/pdf/2211.11501">
          <i class="fas fa-file-pdf" style="color:white"></i>
        </a>
        <a class="icon-link" href="https://github.com/xlang-ai/DS-1000" class="external-link" disabled>
          <i class="fab fa-github" style="color:white"></i>
        </a>
      </div>
      <div class="columns is-centered">
        <div class="column is-8">
          <div class="content">
            <p>
              This website is licensed under a <a rel="license"
                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
                Commons Attribution-ShareAlike 4.0 International License</a>.
            </p>
            <p>
              This means you are free to borrow the <a href="https://github.com/nerfies/nerfies.github.io">source
                code</a> of this website,
              we just ask that you link back to this page in the footer.
              Please remember to remove the analytics code included in the header of the website which
              you do not want on your website.
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>

</body>

</html>
